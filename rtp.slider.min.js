/*

  Copyright (c) Marcel Greter 2010/2012 - rtp.ch - RTP jQuery Slider 0.10.0
  This is free software; you can redistribute it and/or modify it under the terms
  of the [GNU General Public License](http://www.gnu.org/licenses/gpl-3.0.txt),
  either version 3 of the License, or (at your option) any later version.


*//*

  Copyright (c) Marcel Greter 2012 - OCBNET Layouter 1.0.0
  This plugin available for use in all personal or commercial projects under both MIT and GPL licenses.

  The Layouter takes care of widgets that have aspect ratios.
  These Widgets can run into problem when the scrollbar appears.
  This lib does the same as any (tested) browser does when displaying
  images with an aspect ratio and a flexible width. When the vertical
  scrollbar appears due to the widget/image beeing to tall, the width
  of the widget would be decreased which in turn decreases the height.
  This then can make the scrollbar to disapear again, which in turn
  would increase the width and height of the widget again. To solve
  this endless loop, we force a vertical scrollbar to be shown.

  This fixes layout and scrollbar problems like these:
  http://stackoverflow.com/questions/6818096

*//* @@@@@@@@@@ STATIC CLASS @@@@@@@@@@ */// create private scope
(function(e){function d(t,n){var r=i.length;while(r--){var s=i[r],o=s[t];e.isFunction(o)&&o.call(s,n)}}function v(e){d("preLayout",e),d("updateLayout",e),d("postLayout",e)}function m(e){var r={force:e};o&&(n.css("overflow-y",o),o=null),s&&(n.css("overflow-x",s),s=null);var i=t.innerWidth(),u=t.innerHeight();v(r);var f=t.innerWidth(),l=t.innerHeight();if(i!=f||u!=l){v(r);var c=t.innerWidth(),h=t.innerHeight();if(f!=c||l!=h){if(a||l!=h)s=n.css("overflow-x"),s!="hidden"&&n.css("overflow-x","scroll");if(a||f!=c)o=n.css("overflow-y"),o!="hidden"&&n.css("overflow-y","scroll");v(r)}}}var t=e(window),n=null,r,i=e(),s,o,u=e.browser.msie&&parseInt(e.browser.version,10)==8,a=e.browser.mozilla,f=window.requestAnimationFrame,l=window.cancelRequestAnimationFrame,c=["ms","moz","webkit","o"];for(var h=0;h<c.length&&!f;++h)f=window[c[h]+"RequestAnimationFrame"],l=window[c[h]+"CancelRequestAnimationFrame"];if(f)var p=function(e){f(e)};p||(p=window.setTimeout),l||(l=window.clearTimeout),m.schedule=function(e,t){if(!t&&r)return;r&&l(r),r=p(function(){m(),r=null},e||0)},m.add=function(t){n||(n=e("BODY:first")),t=e(t),i.length==0&&t.length>0&&e(window).bind("resize",b),i=i.add(e(t))},m.del=function(t){t=e(t),i=i.not(t),i.length==0&&e(window).bind("resize",b)};var g=!1,y=function(){if(g)return!1;g=p(function(){m(),g=!1},0)},b=u?y:m;typeof OCBNET=="undefined"&&(OCBNET={}),OCBNET.Layout=m})(jQuery),window.RTP||(window.RTP={}),RTP.Multievent=function(e){this.cb=e,this.ids=0,this.args={},this.required=0,this.listeners=[],this.satisfied=[]},function(){var e=jQuery.isFunction;this.prerequisite=function(t){var n=e(t)?t:null,r=e(t)?null:t,i=this;this.required++;var s=this.ids++;return this.satisfied[s]=!1,function(){if(!i.satisfied[s]){n&&n(),i.required--,i.satisfied[s]=!0,r&&(i.args[r]=arguments);if(i.required==0&&i.cb){i._cb=i.cb,i.cb=!1;for(var e=0;e<i.listeners.length;e++)i.listeners[e]();return i._cb()}}}},this.finish=function(){if(this.ids==0&&this.cb){this._cb=this.cb,this.cb=!1;for(var e=0;e<this.listeners.length;e++)this.listeners[e]();return this._cb()}}}.call(RTP.Multievent.prototype),function(e){window.RTP||(window.RTP={}),RTP.Slider=function(t,n){function l(e,t){var n=this.conf[e];return(new RegExp(/^l/i)).test(n)&&(n=0),(new RegExp(/^c/i)).test(n)&&(n=.5),(new RegExp(/^r/i)).test(n)&&(n=1),isNaN(parseInt(n,10))&&(n=t),isNaN(parseInt(n,10))&&(n=.5),this.conf[e]=n}function d(){r.trigger("ready")}var r=this;if(r.inited)return;r.inited=!0,r.conf=e.extend({align:"center",alignPanel:!1,alignViewport:!1,vertical:!1,setFloat:!0,carousel:!1,slideFirst:0,panelsVisible:1,text:{},tmpl:{}},n),r.klass={next:"next",current:"current",previous:"previous"},r.tmpl={wrapper:'<div class="rtp-slider-wrapper"></div>',container:'<div class="rtp-slider-container"></div>'},r.selector={panel:"DIV.rtp-slider-panel",container:"DIV.rtp-slider-container"},r.trigger("config"),isNaN(r.conf.align)&&(r.conf.align=.5),isNaN(r.conf.panelsVisible)&&(r.conf.panelsVisible=.5);var i=r.viewport=e(t),s=r.slides=i.find(r.selector.panel),o=r.wrapper=i.wrapAll(r.tmpl.wrapper).parent(),u=r.container=i.wrapInner(r.tmpl.container).find(r.selector.container);r.rmin=r.smin=r.pmin=0,this.conf.vertical&&this.wrapper.addClass("rtp-slider-vertical"),this.position=e.isFunction(r.conf.slideFirst)?r.conf.slideFirst.call(r):r.conf.slideFirst||0,r.cloned=e();if(r.conf.carousel){var a=this.conf.clonePanels||Math.ceil(this.conf.panelsVisible),f=e();while(a>s.length)a-=s.length,f=f.add(s.clone());f=f.add(s.slice(0,a).clone()),f.appendTo(r.container).addClass("cloned"),r.smax+=f.length,r.cloned=f}var c=l.call(this,"align",.5);l.call(this,"alignViewport",c),l.call(this,"alignPanel",c),r.trigger("init"),r.panels=i.find(r.selector.panel);var h=this.conf.offsetReverse?"right":"left";this.conf.vertical&&(h="none");var p=this.conf.carousel3d?"visible":"hidden";this.panels.css({"float":h}).add(this.viewport).add(this.container).css({zoom:1,overflow:p,position:"relative"}),this.conf.vertical&&(this.viewport.css({"min-height":"50px"}),this.container.css({top:"0px",left:"0px",right:"0px",bottom:"0px",position:"absolute"})),this.conf.vertical||this.container.css("float",h).after('<DIV style="clear:both;"/>');var v=$("IMG",i).imagesLoaded();v.done(d)},function(e,t){e.panel2panel=function(e){if(this.conf.carousel){while(e>this.smax)e-=this.slides.length;while(e<this.smin)e+=this.slides.length}else e>this.smax&&(e=this.smax),e<this.smin&&(e=this.smin);return e},e.slide2panel=function(e){return this.panel2panel(e+this.smin)},e.panel2slide=function(e){return this.panel2panel(e)-this.smin},e.slide2slide=function(e){return this.panel2slide(this.slide2panel(e))}}(RTP.Slider.prototype,e),e.fn.rtpSlider=function(t){return this.each(function(){typeof e(this).data("rtp-slider")=="undefined"&&e(this).data("rtp-slider",new RTP.Slider(this,t))})}}(jQuery),function(e,t){function n(e,t){return e.order-t.order}function r(e,t,r,i){isNaN(r.order)&&(r.order=0),isNaN(i)||(r.order=i),e[t]||(e[t]=[]),e[t].push(r),e[t]=e[t].sort(n)}e.hooks={},e.trigger=function(){var e=[].slice.call(arguments),n=e.shift();this[n]&&this[n].apply&&this[n].apply(this,e);var r=[this.hooks,this.conf.hooks];for(var i=0;i<r.length;i++)if(r[i]&&r[i][n]){var s=r[i][n];if(t.isFunction(s))return s.apply(this,e);for(var o=0;o<s.length;o++)s[o].apply(this,e)}},e.plugin=function(e,t,n){var i=this.hooks;if(typeof this.conf!="undefined")throw"plugin can only be called on object prototype";r(i,e,t,n)},e.listen=function(e,t,n){var i=this.isReady,s=this.conf.hooks;if(typeof this.conf=="undefined")throw"listen can only be called on real instance";if(i!==null&&e=="init")return t.call(this);if(i===!0&&e=="ready")return t.call(this);r(s,e,t,n)},e.plugin("config",function(){this.isReady=null,this.defered={},this.conf.hooks||(this.conf.hooks={})}),e.plugin("init",function(){this.isReady=null}),e.plugin("ready",function(){this.isReady=!0,this.trigger("start")},9999),e.defer=function(){var e=this,t=[].slice.call(arguments),n=t[0],r=0;isNaN(t[0])||(r=t.shift(),n=t[0]);if(this.defered[n])return;var i=function(){e.defered[n]=!1,e.trigger.apply(e,t)};this.defered[n]=window.setTimeout(i,r)},e.undefer=function(e){window.clearTimeout(this.defered[e]),this.defered[e]=!1}}(RTP.Slider.prototype,jQuery),function(e,t){e.setSlideDim=function(e,n){var r=this.pd[0],i=this.ps[0],s=this.pl[0],o=this.pb[0],u=this.pm[0],a=this.pp[0];e=this.slide2slide(e);var f=this.slidepanels[e],l=f.length;while(l--){var c=f[l],h=this.panels[c],p=u[c][2]+o[c][2]+a[c][2];n<p&&(n=p),this.pd[0][c]=n,this.ps[0][c]=n-p;var d=this.ps[0][c];this.conf.vertical?t(h).height(d):t(h).width(d),this.pd[1][c]=this.getPanelSize(c,1)}},e.getPanelsBySlide=function(e){e=parseInt(e,10),e=this.slide2slide(e);var n=this.slidepanels[e].slice(),r=n.length;while(r--)n[r]=this.panels[n[r]];return t(n)}}(RTP.Slider.prototype,jQuery),function(e,t){function n(e){var t=this.conf.offsetReverse;return this.conf.vertical^e?t?["Bottom","Top"]:["Top","Bottom"]:t?["Right","Left"]:["Left","Right"]}function r(e,t,r,i){var s=n.call(this,i),o=parseFloat(e.css(t+s[0]+r),10),u=parseFloat(e.css(t+s[1]+r),10);return isNaN(o)&&(o=0),isNaN(u)&&(u=0),[o,u,o+u]}function i(e,t){return r.call(this,e,"margin","",t)}function s(e,t){return r.call(this,e,"border","Width",t)}function o(e,t){return r.call(this,e,"padding","",t)}function u(e){var t,n=this.pd[e],r=this.ps[e],i=this.pl[e],s=this.pb[e],o=this.pm[e],u=this.pp[e];r.length=n.length=0;var a=this.panels.length;while(a--)r[a]=t=this.getPanelSize(a,e),n[a]=t+u[a][2]+s[a][2]+o[a][2]}function a(e){this.pl[e]=[],this.pm[e]=[],this.pb[e]=[],this.pp[e]=[];var t=this.panels.length;while(t--){var n=this.panels.eq(this.panel2panel(t));this.pl[e][t]=n.css("box-sizing"),this.pm[e][t]=i.call(this,n,e),this.pb[e][t]=s.call(this,n,e),this.pp[e][t]=o.call(this,n,e)}}e.plugin("config",function(){this.ps=[[],[]],this.pm=[[],[]],this.pb=[[],[]],this.pp=[[],[]],this.pd=[[],[]],this.pl=[]}),e.getPanelSize=function(e,t){return e=this.panels.eq(this.panel2panel(e)),this.conf.vertical^t?e.height():e.width()},e.updatePanels=function(){this.slidepanels=[],this.slen=this.slides.length,this.smax=this.smin+this.slen-1;for(var e=0;e<this.panels.length;e++){var t=this.panel2slide(e);this.slidepanels[t]?this.slidepanels[t].push(e):this.slidepanels[t]=[e]}},e.checkPanelsStyle=function(e){a.call(this,0),a.call(this,1),u.call(this,0),u.call(this,1),this.updatePanelsOffset()},e.readPanelsDim=function(){u.call(this,0)},e.readPanelsOpp=function(){u.call(this,1)},e.updatePanelsOffset=function(){if(this.conf.carousel3d){var e=this.pd[0],t=0;this.offset=[0];for(var n=0;n<e.length;n++)this.offset.push(t+=e[n]);this.trigger("changedPanelsOffset")}else{this.trigger("changedPanelsOffset");var e=this.pd[0],t=0;this.offset=[];var t=this.panels.eq(0).offset(),r=this.conf.vertical?t.top:t.left;r-=this.pm[0][0][0];for(var n=0;n<e.length;n++)t=this.panels.eq(n).offset(),t=this.conf.vertical?t.top:t.left,t=parseFloat(t)-r-this.pm[0][n][0],this.offset.push(t);this.panels.length&&this.offset.push(parseFloat(t)+this.pd[0][n-1])}},e.plugin("ready",function(){this.updatePanels(),this.checkPanelsStyle()},-99)}(RTP.Slider.prototype,jQuery),function(e,t){function n(e,t){var n=this.conf,r=this.wrapper,i=this.viewport;n.vertical^t?(i.height(e),n.linkWrapperToViewportOpp&&r.height(i.outerHeight(!0))):(i.width(e),n.linkWrapperToViewportDim&&r.width(i.outerWidth(!0)))}function r(e){var t=this.viewport;return this.conf.vertical^e?t.height():t.width()}e.plugin("config",function(){this.conf=t.extend({linkWrapperToViewportDim:!0,linkWrapperToViewportOpp:!1},this.conf)}),e.getViewportOffset=function(){var e=this.viewport.offset();return this.conf.vertical?{x:e.top,y:e.left}:{x:e.left,y:e.top}},e.setViewportDim=function(e){n.call(this,e,0),this.vp_x=e,this.trigger("updatedViewportDim",e)},e.setViewportOpp=function(e){n.call(this,e,1),this.trigger("updatedViewportOpp",e)},e.getViewportDim=function(){return r.call(this,0)},e.getViewportOpp=function(){return r.call(this,1)},e.readviewportDim=function(){this.vp_x=r.call(this,0)},e.readviewportOpp=function(){this.vp_y=r.call(this,1)},e.checkViewportDim=function(){var e=r.call(this,0);if(this.vp_x!==e){var t=this.vp_x;this.vp_x=e,this.trigger("changedViewportDim",e,t)}},e.checkViewportOpp=function(){var e=r.call(this,1);if(this.vp_y!==e){var t=this.vp_y;this.vp_y=e,this.trigger("changedViewportOpp",e,t)}}}(RTP.Slider.prototype,jQuery),function(e,t){function n(e){return this.conf.vertical^e?"height":"width"}function r(e){var t=this.conf.offsetReverse;return this.conf.vertical^e?t?"marginBottom":"marginTop":t?"marginRight":"marginLeft"}e.getContainerOffset=function(e){return-(parseFloat(this.container.css(r.call(this,e)),10)||0)},e.setContainerOffset=function(e,t){var n=this.offset[this.smin],i=this.offset[this.smax+1],s=i-n;if(this.conf.carousel){while(e<n)e+=s;while(i<=e)e-=s}this.container.css(r.call(this,t),-e),this.ct_off=e},e.readContainerOffset=function(){this.ct_off=this.getContainerOffset(0)},e.checkContainerOffset=function(){var e=this.getContainerOffset(0);if(this.ct_off!==e){var t=this.ct_off;this.ct_off=e,this.trigger("changedContainerOffset",e,t)}},e.plugin("changedPanelsOffset",function(){if(this.conf.vertical)return;var e=0,t=this.panels.length;while(t--)e+=this.pd[0][t];this.container.css(n.call(this),e+"px")},-9999),e.plugin("ready",function(){this.checkContainerOffset()},-99)}(RTP.Slider.prototype,jQuery),function(e,t){e.updatePanelExposure=function(){var e=this.slide2panel(this.position),t=this.conf.panelsVisible||1,n=this.conf,r=n.alignPanel,i=n.alignViewport,s=n.panelsVisible;if(!n.carousel)if(n.fillViewport){var o=s*i-r,u=-1*o+s-1;e<this.smin+o&&(e=this.smin+o),e>this.smax-u&&(e=this.smax-u)}else n.shrinkViewport&&(e>this.smax+1-this.smin-s?s=this.smax+1-e:e<this.smin-1+s&&(s=this.smin+1+e));e+=r-i*s;var a=[],f=e,l=Math.floor(f),c=e+s,h=Math.ceil(c),p=this.slides.length;while(p--)a[p]=0;for(p=l;p<h;p++){var d=f-p,v=c-p,m=this.slide2slide(p);v<1?a[m]+=v:a[m]+=1,d>0&&(a[m]-=d)}var g=this.s_e;this.s_e=a,this.trigger("updatedSlideExposure",a,g)},e.checkSlideVisibility=function(){var e=this.ct_off,t,n=0,r=[],i=this.pd[0],s=this.slides.length,o=this.ct_off,u=o+this.vp_x;while(s--)r[s]=0;for(s=0;n<u;s++){var a=this.panel2slide(s),f=n+i[a];if(f<o||n>u)t=0;else if(n>=o&&f<=u)t=1;else if(n<o&&f>u)t=(u-o)/(f-n);else if(n<o)t=(f-o)/(f-n);else{if(!(f>u))throw"updateVisibility has invalid state";t=(u-n)/(f-n)}r[a]+=t,n=f}var l=this.s_v;this.s_v=r,this.trigger("changedSlideVisibility",r,l)},e.plugin("layout",e.updatePanelExposure,-99),e.plugin("layout",e.checkSlideVisibility,99)}(RTP.Slider.prototype,jQuery),function(e,t){e.setPosition=function(e){e=this.slide2slide(e);if(this.position==e)return;var t=this.position;this.position=e,this.trigger("layout",{})},e.setOffsetByPosition=function(e){this.position=this.slide2slide(e);var t=this.conf,n=t.alignPanel,r=t.alignViewport,i=t.panelsVisible;if(!t.carousel)if(t.fillViewport){var s=i*r-n,o=-1*s+i-1;e<this.smin+s&&(e=this.smin+s),e>this.smax-o&&(e=this.smax-o)}else t.shrinkViewport&&(e>this.smax+1-this.smin-i?i=this.smax+1-e:e<this.smin-1+i&&(i=this.smin+1+e));var u=this.getOffsetByPosition(e);u-=this.vp_x*r,this.setContainerOffset(u)},e.getOffsetByPosition=function(e){e+=this.smin+this.conf.alignPanel;if(this.conf.carousel){while(e>this.smax)e-=this.slides.length;while(e<this.smin)e+=this.slides.length}else{if(e<=this.smin+0)return this.offset[this.smin];if(e>=this.smax+1)return this.offset[this.smax+1]}var t=Math.floor(e),n=e-t,r=this.pd[0][t]*n;return r+=this.offset[t],r},e.getPositionByOffset=function(e){e=parseInt(e+.5,10);var t=this.offset[this.smin],n=this.offset[this.smax+1],r=this.conf.alignPanel+this.smin;if(this.conf.carousel){while(e<t)e+=n-t;while(n<=e)e-=n-t}else{if(e<=t)return this.smin;if(e>=n)return this.smax+1}var i=this.panels.length;while(i--){var s=this.offset[i+0],o=this.offset[i+1];if(s==e)return i-r;if(o>e&&e>s)return(e-s)/(o-s)+i-this.smin-r}throw"getPositionByOffset has invalid state"},e.plugin("layout",function(){this.position=this.slide2slide(this.position)},-999),e.plugin("layout",function(){this.setOffsetByPosition(this.position)})}(RTP.Slider.prototype,jQuery),function(e,t){function r(e){var t;return e.toString().match(/^([\+\-])/)?t=this.position+parseFloat(e):t=parseFloat(e),this.conf.carousel?t:this.panel2panel(t)}e.plugin("config",function(){this.animating=!1,this.queue=[],this.conf=t.extend({easeDuration:1200,easeFunction:"easeInOutExpo"},this.conf)}),e.lock=function(){var e=this;if(e.locked)return e.locked.prerequisite();if(e.swiping)return;var n=t.proxy(e.resume,e);return e.resume=!1,e.locked=new RTP.Multievent(function(){if(e.animating)return;e.locked=!1;if(!n)return;n.call(e),n=null}),e.locked.prerequisite()};var n=function(e,t,n,r,i){var s=this;s.queue.push({keep:i,action:e,easing:n||this.conf.easeFunction,duration:isNaN(t)?this.conf.easeDuration:t,step:function(){u.call(s,this)},complete:function(){r&&r.call(s,this),o.call(s,this)}})},i=function(e){this.animating=!0;var n=e.action,i=this.position,s={pos:i},o=r.call(this,n);if(o==i)return e.complete.call({pos:o});if(this.conf.carousel&&!e.keep){var u=Math.abs(i-o),a=o-this.slides.length,f=o+this.slides.length;u>Math.abs(a-i)&&(o=a),u>Math.abs(f-i)&&(o=f)}this.animating=t(s).animate({pos:o},e)};e.abortAnimation=function(){this.queue.length=0,this.animating&&this.animating!==!0&&this.animating.stop(!0,!1),this.animating=this.locked=!1};var s=function(){if(this.animating||this.locked)return;if(this.queue.length==0)return;var e=this.queue.shift();this.resume=function(){this.trigger("startAnimation"),i.call(this,e),this.resume=null};var t=r.call(this,e.action);t!=this.position&&this.trigger("preAnimation"),this.resume&&!this.locked&&this.resume.call(this)},o=function(e){this.animating=!1,this.setPosition(e.pos),this.resume=function(){this.trigger("stopAnimation"),s.call(this),this.resume=null},this.queue.length==0&&this.trigger("postAnimation"),this.resume&&!this.locked&&this.resume.call(this)},u=function(e){this.setPosition(e.pos)};e.animate=function(e,r,i,o,u){t.isFunction(e)&&(e=e.call(this)),this.trigger("interaction",e),n.apply(this,arguments),s.call(this)},e.goTo=function(e,r,i,o,u){t.isFunction(e)&&(e=e.call(this)),n.apply(this,arguments),s.call(this)},e.goNext=function(e,t){this.animate("+1",e,t)},e.goPrev=function(e,t){this.animate("-1",e,t)},e.goFirst=function(e,t){this.animate("0",e,t)},e.goLast=function(e,t){this.animate(this.slen-1,e,t)}}(RTP.Slider.prototype,jQuery),function(e,t){e.plugin("config",function(){this.conf=t.extend({sizer:!1},this.conf)}),e.preLayout=function(e){this.trigger("readviewportDim",e),this.trigger("readviewportOpp",e)},e.updateLayout=function(e){(this.vp_x_lck!==this.vp_x||this.vp_y_lck!==this.vp_y||e.force)&&this.trigger("changedViewportDim",e)},e.postLayout=function(e){if(this.vp_x_lck!==this.vp_x||this.vp_y_lck!==this.vp_y||e.force)this.vp_x_lck=this.vp_x,this.vp_y_lck=this.vp_y,this.trigger("layout",e)},e.plugin("ready",function(){OCBNET.Layout.add(this),OCBNET.Layout()},999),e.plugin("layout",function(e){(this.vp_x_lck!==this.vp_x||this.vp_y_lck!==this.vp_y||e.force)&&OCBNET.Layout()},-99999)}(RTP.Slider.prototype,jQuery),function(e,t){function n(e){var n=this.panels.length,r=n;while(r--){var i=(e-this.pd[1][r])/2;t(this.panels[r]).css("top",i+"px")}}e.plugin("changedViewportOpp",n,999),e.plugin("updatedViewportOpp",n,999)}(RTP.Slider.prototype,jQuery),function(e,t){e.plugin("changedViewportDim",function(){!this.conf.vertical&&this.conf.sizer=="panelsByViewport"&&(this.setSlidesDimFromVp(),this.trigger("readPanelsOpp"),this.trigger("readPanelVisibility"))}),e.getSlideDimFromVp=function(e){return parseInt(this.vp_x/this.conf.panelsVisible+.5,10)},e.setSlidesDimFromVp=function(){var e=this.slides.length;while(e--)this.setSlideDim(e,this.getSlideDimFromVp(e));this.updatePanelsOffset()}}(RTP.Slider.prototype,jQuery),function(e,t){e.plugin("updatedSlideExposure",function(e){var t=0;if(this.conf.vertical||this.conf.sizer=="viewportByPanels"){for(var n=0;n<e.length;n++){if(e[n]==0)continue;t+=this.pd[0][n]*e[n]}this.setViewportDim(t)}})}(RTP.Slider.prototype,jQuery),function(e,t){function n(){var e=this.s_e;if(this.conf.vertical)return;if(!this.conf.autoVpOpp)return;var t=0,n=this.conf.autoVpOppDeadZone||1;for(var r=0;r<e.length;r++){if(e[r]==0)continue;e[r]>n?t=Math.max(t,this.pd[1][r]):t=Math.max(t,this.pd[1][r]*(e[r]/n))}this.setViewportOpp(t),this.vp_y=t}e.plugin("config",function(){this.conf=t.extend({autoVpOpp:!0,autoVpOppDeadZone:.5},this.conf)}),e.plugin("layout",n),e.plugin("layout",function(){this.conf.vertical&&(this.readPanelsDim(),this.updatePanelsOffset(),this.setOffsetByPosition(this.position))},-99999)}(RTP.Slider.prototype,jQuery),function(e,t){function i(e){return e+1+"/"+this.slides.length}function s(e,n){var r=this.klass.panelHidden,i=this.klass.panelPartial,s=this.klass.panelVisible;n>=1?this.navDot.eq(e).addClass(s).removeClass(r).removeClass(i):n<=0?this.navDot.eq(e).addClass(r).removeClass(i).removeClass(s):this.navDot.eq(e).addClass(i).removeClass(r).removeClass(s);var o=this.conf.navDotStepFunction;t.isFunction(o)&&o.call(this,e,n)}function o(e){if(this.conf.navDots)for(var t=0;t<e.length;t++)s.call(this,t,e[t])}var n=t.isFunction,r="rtp-nav-dot";e.plugin("config",function(){this.conf=t.extend({navDots:!1,navDotAltFormat:i,navDotTitleFormat:i,navDotStepFunction:function(e,t){this.navDotImg.eq(e).css("opacity",t)}},this.conf),this.klass=t.extend({navDot:r,panelHidden:r+"-hidden",panelPartial:r+"-partial",panelVisible:r+"-visible"},this.klass),this.tmpl=t.extend({navDotWrapper:['<span><a href="javascript:void(0);">',"</a></span>"],navDotElement:'<img src="img/rtp-nav-dot-clear.gif" width="12" height="12" alt=""/>'},this.tmpl,this.conf.tmpl)}),e.plugin("init",function(){var e=this;e.conf.navDots&&e.slides.length>1&&(e.navDot=t(),e.navDotImg=t(),e.navDotWrapper=t('<div class="'+r+'s">'),e.slides.each(function(r){var i=t(e.tmpl.navDotWrapper[0]+e.tmpl.navDotElement+e.tmpl.navDotWrapper[1]).addClass(e.klass.navDot).addClass([e.klass.navDot,r].join("-")).click(function(){e.animate(r)}).appendTo(e.navDotWrapper),o=t("IMG",i);n(e.conf.navDotAltFormat)&&o.attr("alt",e.conf.navDotAltFormat.call(e,r)),n(e.conf.navDotTitleFormat)&&o.attr("title",e.conf.navDotTitleFormat.call(e,r)),e.navDot.push(i.get(0)),e.navDotImg.push(o.get(0)),s.call(e,r,0)}),e.navDotWrapper.appendTo(e.wrapper))}),e.plugin("changedSlideVisibility",o)}(RTP.Slider.prototype,jQuery),function(e,t){var n=function(e){var t=this.arrows.prev,n=this.arrows.next;this.conf.carousel?(t.is(":visible")||t.stop(!0,!0).show(),n.is(":visible")||n.stop(!0,!0).show()):(isNaN(e)&&(e=this.conf.slideEaseDuration),this.position<this.smin+1?t.is(":visible")&&t.stop(!0,!0).fadeOut(e):t.is(":visible")||t.stop(!0,!0).fadeIn(e),this.position>this.smax-1?n.is(":visible")&&n.stop(!0,!0).fadeOut(e):n.is(":visible")||n.stop(!0,!0).fadeIn(e))};e.plugin("layout",n),e.plugin("init",function(){this.conf=t.extend({navArrows:!1,navArrowAttach:"wrapper",navArrowPosition:"default",navArrowPrevText:"&#171; left",navArrowNextText:"right &#187;"},this.conf),this.tmpl=t.extend({"arrow-prev":['<div class="rtp-nav-prev"><a href="javascript:void(0)">',"</a></div>"],"arrow-next":['<div class="rtp-nav-next"><a href="javascript:void(0)">',"</a></div>"]},this.tmpl,this.conf.tmpl),this.selector=t.extend({"nav-prev":".rtp-nav-prev A","nav-next":".rtp-nav-next A"},this.selector,this.conf.selector),this.arrows={prev:t(),next:t()};if(this.conf.navArrows){var e=this.viewport.append,r=this.viewport.prepend;switch(this.conf.navArrowPosition.substr(0,1)){case"r":r=this.viewport.append,e=this.viewport.prepend;break;case"p":e=this.viewport.prepend;break;case"a":r=this.viewport.append}var i=this.conf.navArrowAttach.substring(0,1)=="p"?this.panels:this.wrapper,s=this.conf.navArrowPrevText,o=this.conf.navArrowNextText;s&&r.call(i,this.tmpl["arrow-prev"][0]+s+this.tmpl["arrow-prev"][1]),o&&e.call(i,this.tmpl["arrow-next"][0]+o+this.tmpl["arrow-next"][1]),this.arrows.prev=this.wrapper.find(this.selector["nav-prev"]),this.arrows.next=this.wrapper.find(this.selector["nav-next"]),this.arrows.prev&&this.arrows.prev.click(t.proxy(function(){return this.goPrev(),!1},this)),this.arrows.next&&this.arrows.next.click(t.proxy(function(){return this.goNext(),!1},this)),n.call(this,0)}})}(RTP.Slider.prototype,jQuery),function(e,t){e.plugin("init",function(){this.conf=t.extend({navKeyboard:!1,navKeyboardPrev:this.conf.vertical?38:37,navKeyboardNext:this.conf.vertical?40:39},this.conf)}),e.plugin("ready",function(){this.conf.navKeyboard&&t(document).keydown(t.proxy(function(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return!0;switch(e.which){case this.conf.navKeyboardPrev:this.goPrev();break;case this.conf.navKeyboardNext:this.goNext()}},this))})}(RTP.Slider.prototype,jQuery),function(e,t){function n(){if(!this.conf.curClass)return;var e=this.conf,n=this.position,r=e.curClass,i=e.curClassDeadZone,s=parseInt(this.position+.5,10);s=this.panel2panel(s),this.panels.removeClass(r);if(Math.abs(s-n)<i){if(this.navDot){var o=this.slidepanels[s];t(this.navDot).removeClass(r);var u=o.length;while(u--)t(this.navDot[o[u]]).addClass(r)}this.getPanelsBySlide(s).addClass(r)}}e.plugin("config",function(){this.conf=t.extend({curClass:"current",curClassDeadZone:.25},this.conf)}),e.plugin("layout",n)}(RTP.Slider.prototype,jQuery),function(e,t){e.plugin("config",function(){this.autosliding=null,this.conf=t.extend({autoslide:!1,autoslideAction:"+1",autoslideDelay:3500,autoslideFirstDelay:1e3,autoslideResumeDelay:!1,autoslideStopOnHover:!1,autoslidePauseOnHover:!0,autoslideStopOnAction:!1},this.conf)}),e.plugin("interaction",function(){this.conf.autoslideStopOnAction&&this.stopAutoSlide(!1)}),e.plugin("stopAnimation",function(){if(!this.autosliding)return;if(this.queue.length>0)return;this.startAutoSlide(this.conf.autoslideDelay)}),e.startAutoSlide=function(e,n){isNaN(n)&&(n="+1");if(this.autosliding&&this.autosliding!==!0)return;this.autosliding=!0,this.trigger("autoslideStart");if(this.queue.length>0||this.animating||this.locked)return;this.autosliding=window.setTimeout(t.proxy(function(){if(this.queue.length>0||this.animating||this.locked)return;t.isFunction(n)&&(n=n.call(this)),isNaN(n)&&(n=this.conf.autoslideAction),this.goTo(n),this.autosliding=!0},this),isNaN(e)?0:e)},e.stopAutoSlide=function(e){this.autosliding!==!0&&window.clearTimeout(this.autosliding),this.autosliding=e?!1:null,e?this.trigger("autoslidePause"):this.trigger("autoslideStop")},e.plugin("start",function(){if(!this.conf.autoslide)return;var e=isNaN(this.conf.autoslideFirstDelay)?this.conf.autoslideDelay:this.conf.autoslideFirstDelay;this.startAutoSlide(e)}),e.plugin("ready",function(){this.wrapper.hover(t.proxy(function(){if(this.autosliding===null)return;this.conf.autoslideStopOnHover?this.stopAutoSlide(!1):this.conf.autoslidePauseOnHover&&this.stopAutoSlide(!0)},this),t.proxy(function(){if(this.autosliding!==!1)return;var e=this.conf.autoslideResumeDelay!=0?this.conf.autoslideResumeDelay:this.conf.autoslideDelay;this.conf.autoslidePauseOnHover&&this.startAutoSlide(e)},this))}),e.plugin("swipeStart",function(){this.backup=this.autosliding,this.autosliding&&this.stopAutoSlide(!0)}),e.plugin("swipeStop",function(){this.backup&&this.startAutoSlide()})}(RTP.Slider.prototype,jQuery),function(e,t){function n(e,n){var r=this,i=r.getPanelsBySlide(r.position);t("DIV.info",i).each(function(){var i=t(this);i.css("opacity")!=e&&i.animate({opacity:e},{duration:n,complete:r.lock()})})}e.plugin("swipeMove",function(e,t,r){if(r.swipeMoves.length!=1)return;n.call(this,0,300)}),e.plugin("abortAnimation",function(){t("DIV.info",this.panels).stop(!0,!0)}),e.plugin("postAnimation",function(){n.call(this,1,700)}),e.plugin("preAnimation",function(){n.call(this,0,700)}),e.plugin("ready",function(){t("DIV.info",this.panels).css({opacity:0});var e=this.getPanelsBySlide(this.position);t("DIV.info",e).css({opacity:1})},-9)}(RTP.Slider.prototype,jQuery),function(e,t){var n=function(e){if(e.length<2)return[0,0];var t=e[0][2],n=0,r=0,i=0,s=0;for(var o=0,u=e.length;o<u;o++){var a=e[o][0],f=e[o][2]-t;n+=f,s+=f*f,r+=a,i+=f*a}var l=(u*i-n*r)/(u*s-n*n),c=(r*s-n*i)/(u*s-n*n);return isNaN(l)&&console.log(n,s,r,i,e),[l,c]};e.plugin("config",function(){this.swipe=!1,this.conf=t.extend({fps:25,swipeVsync:!1,swipeThreshold:5},this.conf)}),e.plugin("swipeStart",function(e,t,n){this.autoSlidePause&&this.autoSlidePause(),this.animation=!0,n.swipeMoves=[],n.swipeDrag=n.swipeScroll=!1,n.swipeStartDrag=n.swipeX=e,n.swipeStartScroll=n.swipeY=t;var r=this.getViewportOffset(),i=this.ct_off+e-r.x;n.vp_off=r.x,n.swipeStartDragPos=this.getPositionByOffset(i),n.swipeStartPositionOff=this.getOffsetByPosition(this.position)-i,this.locked=!0,this.trigger("abortAnimation")}),e.plugin("swipeDraw",function(e){var t=e.swipeX,n=e.swipeY,r=e.swipeStartDrag-t;return e.swipeStartDrag=t,this.setPosition(this.getPositionByOffset(this.getOffsetByPosition(this.position)+r))}),e.plugin("swipeMove",function(e,t,n){this.swiping=!0;var r=n.swipeMoves;n.swipeX=e,n.swipeY=t;if(n.swipeDrag==0&&n.swipeScroll==0){var i=this.conf.swipeThreshold;Math.abs(n.swipeStartDrag-e)>i?n.swipeDrag=!0:Math.abs(n.swipeStartScroll-t)>i&&(n.swipeScroll=!0)}var s=r.length;s>2&&(r[s-2][0]<r[s-1][0]&&r[s-1][0]>e?r.length=0:r[s-2][0]>r[s-1][0]&&r[s-1][0]<e&&(r.length=0)),r.length>50&&r.shift(),r.push([e,t,(new Date).getTime()]);if(n.swipeDrag==0&&n.swipeScroll==0){var i=this.conf.swipeThreshold;Math.abs(n.swipeStartDrag-e)>i?n.swipeDrag=!0:Math.abs(n.swipeStartScroll-t)>i&&(n.swipeScroll=!0)}return n.swipeDrag?(this.conf.vsync?this.trigger("swipeDraw",n):this.defer(1e3/this.conf.fps,"swipeDraw",n),!n.swipeDrag):!0}),e.plugin("swipeStop",function(e,t,r){this.trigger("abortAnimation");var i=r.swipeMoves;this.trigger("swipeMove",e,t,r),this.undefer("swipeDraw");var s=(new Date).getTime(),o=s-500;while(i.length&&i[0][2]<o)i.shift();var u=n(i),a=u[0],f=u[1],l=parseInt(this.position+.5+a*-0.4),c=Math.abs(a);this.locked=!1,this.trigger("abortAnimation"),this.trigger("swipeFinish",e,t,r);var h=0,p="linear",d=Math.abs(l-this.position);d>.5?(p=c<.375?"easeOutBounce":"easeOutExpo",h=Math.max(Math.min(100/Math.pow(1/c,1.5),9e3),1200)):d>0&&(p=c<.375?"easeOutBounce":"easeOutExpo",h=Math.max(Math.min(100/Math.pow(1/c,1.5),2e3),600));var v=r.swipeDrag;return delete r.swipeDrag,delete r.swipeScroll,r.swipeMoves=[],this.animate(l,h,p,function(){this.foobar=!1,this.swiping=!1},!0),!v})}(RTP.Slider.prototype,jQuery),function(e,t){e.plugin("config",function(){this.conf=t.extend({mouseSwipe:!1},this.conf)});var n="mouseup",r="mousemove",i="mousedown",s=function(e,i){if(!this.conf.mouseSwipe)return!0;if(i.which!==1)return!0;var s=this.conf.vertical,a=s?i.pageY:i.pageX,f=s?i.pageX:i.pageY;return this.trigger("swipeStart",a,f,e),e.end=t.proxy(u,this,e),e.move=t.proxy(o,this,e),t(document).bind(n,e.end),t(document).bind(r,e.move),!1},o=function(e,t){var n=this.conf.vertical,r=n?t.pageY:t.pageX,i=n?t.pageX:t.pageY;return this.trigger("swipeMove",r,i,e),!e.dragSwipe},u=function(e,i){t(document).unbind(r,e.move),t(document).unbind(n,e.end),e.end=e.move=e.start=null;var s=this.conf.vertical,o=s?i.pageY:i.pageX,u=s?i.pageX:i.pageY;return this.trigger("swipeStop",o,u,e),!e.dragSwipe};e.plugin("ready",function(){var e={};this.viewport.bind(i,t.proxy(s,this,e))})}(RTP.Slider.prototype,jQuery),function(e,t){function o(e,n){if(!this.conf.touchSwipe)return!0;var r=n.originalEvent,s=r.touches||[],o=r.changedTouches||[],a=this.conf.vertical,f=o[0]||s[0],l=a?f.clientY:f.clientX,c=a?f.clientX:f.clientY;if(s.length==1){if(e.toucher)return!1;e.move&&t(document).unbind(i,e.move);for(var h in e)e.hasOwnProperty(h)&&delete e[h];return e.toucher=s[0],l=a?e.toucher.clientY:e.toucher.clientX,c=a?e.toucher.clientX:e.toucher.clientY,e.move=t.proxy(u,this,e),this.trigger("swipeStart",l,c,e),e.move&&t(document).bind(i,e.move),!0}if(s.length==0){e.move&&t(document).unbind(i,e.move),this.trigger("swipeStop",l,c,e);for(var h in e)e.hasOwnProperty(h)&&delete e[h]}}function u(e,t){if(!this.conf.touchSwipe)return!0;var n=t.originalEvent,r=n.touches,i=n.changedTouches,s=e.toucher,o=this.conf.vertical,u=o?s.clientY:s.clientX,a=o?s.clientX:s.clientY;return this.trigger("swipeMove",u,a,e,t),!e.swipeDrag}e.plugin("config",function(){this.conf=t.extend({touchSwipe:!1},this.conf)});var n=function(e,t){return!1},r="touchend",i="touchmove",s="touchstart";e.plugin("ready",function(){var e={};this.viewport.bind(r,t.proxy(o,this,e)),this.viewport.bind(s,t.proxy(o,this,e))})}(RTP.Slider.prototype,jQuery),function(e,t){function i(){var e=0,t=this.buttons["toggle-"+r[e]];t=t?t.find("IMG"):[];var n=t.length;while(n--)this.autosliding!==null?t[n].src=t[n].src.replace("play",r[e]):t[n].src=t[n].src.replace(r[e],"play");e=1;var t=this.buttons["toggle-"+r[e]];t=t?t.find("IMG"):[];var n=t.length;while(n--)this.autosliding?t[n].src=t[n].src.replace("play",r[e]):t[n].src=t[n].src.replace(r[e],"play")}var n="rtp-toolbar";e.plugin("config",function(){this.conf=t.extend({navToolbar:!1,navToolbarButtons:this.conf.carousel?"rewind, toggle-stop, toggle-pause, forward":"first, rewind, toggle-stop, toggle-pause, forward, last"},this.conf),this.klass=t.extend({},this.klass),this.tmpl=t.extend({navButtonWrapper:['<a href="javascript:void(0);">',"</a>"],navButton:'<img src="img/rtp-toolbar-{type}.gif" width="12" height="12" alt="{title}"/>'},this.tmpl)}),e.plugin
("init",function(){function r(e){switch(e){case"first":this.goFirst();break;case"rewind":this.goPrev();break;case"play":this.startAutoSlide();break;case"pause":this.stopAutoSlide(!0);break;case"stop":this.stopAutoSlide(!1);break;case"toggle-pause":this.autosliding?this.stopAutoSlide(!0):this.startAutoSlide();break;case"toggle-stop":this.autosliding!==null?this.stopAutoSlide(!1):this.startAutoSlide();break;case"forward":this.goNext();break;case"last":this.goLast()}}var e=this;e.buttons={};if(e.conf.navToolbar){var i=e.conf.navToolbarButtons.split(/\s*,\s*/),s=[],o=t('<div class="'+n+'">');for(var u=0,a=i.length;u<a;u++){var f=t('<span class="rtp-toolbar-'+i[u]+'">'+e.tmpl.navButtonWrapper[0]+e.tmpl.navButton.replace(/{type}/g,i[u].replace("toggle-","")).replace(/{title}/g,i[u])+e.tmpl.navButtonWrapper[1]+"</span>").click(t.proxy(r,e,i[u]));o.append(e.buttons[i[u]]=f)}e.toolbarWrapper=o,e.toolbarWrapper.appendTo(e.wrapper)}});var r=["stop","pause"];e.plugin("ready",i),e.plugin("autoslideStop",i),e.plugin("autoslideStart",i),e.plugin("autoslidePause",i)}(RTP.Slider.prototype,jQuery),function(e){function n(t){var n,r,i=t.charAt(0).toUpperCase()+t.slice(1),s=["Moz","Webkit","O","ms"],o=document.createElement("div");if(t in o.style)r=t;else for(var u=0;u<s.length;u++){n=s[u]+i;if(n in o.style){r=n;break}}return o=null,e.support[t]=r,r}if(!e.cssHooks)throw"jQuery 1.4.3+ is needed for this plugin to work";var t=["boxSizing","transform","perspective","transformStyle","backfaceVisibility"],r=t.length;while(r--)(function(){var s=t[r],o=n(s);o&&o!==s&&(e.cssHooks[s]={get:function(t,n,r){return e.css(t,o)},set:function(e,t){e.style[o]=t}})})()}(jQuery),function(e,t){e.plugin("config",function(){this.conf=t.extend({carousel3d:!1},this.conf)}),e.plugin("init",function(){function s(e){if(!this.conf.carousel3d)return oldSetOffsetByPosition.apply(this,arguments);var t=360/this.slides.length*e,n=this.conf.vertical?"X":"Y";this.container.css({transform:"translateZ(-"+i+"px) rotate"+n+"(-"+t+"deg)"})}function o(){if(!this.conf.carousel3d)return;var e=this.conf,n=e.alignPanel,r=e.alignViewport,s=e.panelsVisible,o=Math.PI/this.slides.length,u=Math.max.apply(Math,this.pd[0])/2;i=parseInt(u/Math.tan(o),10);var a=s*(r-.5)-n+.5;this.panels.css({position:"absolute",left:"0px",right:"0px",outline:"1px solid transparent"}),this.cloned.hide();var f=this.conf.vertical?"X":"Y",l=this.slides.length,c=l;while(c--){var h=360/l*c+a;t(this.slides[c]).css({transform:"rotate"+f+"("+h+"deg) translateZ( "+i+"px )"})}this.viewport.css({perspective:i*s/2}),this.container.css({width:"100%",overflow:"visible","transform-style":"preserve-3d"})}var n,r,i;oldSetOffsetByPosition=this.setOffsetByPosition,this.setOffsetByPosition=s,e.plugin("layout",o,-9)})}(RTP.Slider.prototype,jQuery);